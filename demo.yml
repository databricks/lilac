datasets:
  - name: imdb
    namespace: lilac
    tags: [machine-learning]
    settings:
      ui:
        media_paths:
          - text
      preferred_embedding: 'gte-small'
    source:
      source_name: huggingface
      dataset_name: imdb

  - name: open-asssistant-conversations
    namespace: lilac
    tags: [machine-learning]
    settings:
      ui:
        media_paths:
          - text
      preferred_embedding: 'gte-small'
    source:
      source_name: huggingface
      dataset_name: OpenAssistant/oasst1

  - name: wikitext-2-raw-v1
    namespace: lilac
    tags: [machine-learning]
    settings:
      ui:
        media_paths:
          - text
      preferred_embedding: 'gte-small'

    source:
      config_name: wikitext-2-raw-v1
      dataset_name: wikitext
      source_name: huggingface

  - name: squad_v2
    namespace: lilac
    tags: [machine-learning]
    settings:
      ui:
        media_paths:
          - context
          - question
          - [answers, text, '*']
      preferred_embedding: 'gte-small'
    source:
      dataset_name: squad_v2
      source_name: huggingface
    # Don't run embeddings for question and answers.
    embeddings:
      - path: context
        embedding: gte-small

  # This dataset is currently causing issues with loading.
  # - name: databricks-dolly-15k-curated-en
  #   namespace: lilac
  #   settings:
  #     ui:
  #       media_paths:
  #         - original-instruction
  #         - original-context
  #         - original-response
  #         - - new-instruction
  #           - value
  #           - '*'
  #         - - new-context
  #           - value
  #           - '*'
  #         - - new-response
  #           - value
  #           - '*'
  #     preferred_embedding: 'gte-small'
  #   # Only run embeddings for original-context and new-context.
  #   embeddings:
  #     - path: original-context
  #       embedding: gte-small
  #     - path: [new-context, value, '*']
  #       embedding: gte-small
  #   source:
  #     dataset_name: argilla/databricks-dolly-15k-curated-en
  #     source_name: huggingface

  - name: piqa
    namespace: lilac
    tags: [machine-learning]
    settings:
      ui:
        media_paths:
          - sol1
          - sol2
          - goal
      preferred_embedding: 'gte-small'
    source:
      dataset_name: piqa
      source_name: huggingface

  # Legal datasets.
  - name: mmlu_professional_law
    namespace: lilac
    tags: [legal]
    settings:
      ui:
        media_paths:
          - question
          - [choices, '*']
      preferred_embedding: 'gte-small'
    source:
      config_name: professional_law
      dataset_name: cais/mmlu
      source_name: huggingface

  - name: pile-of-law-us-bills
    namespace: lilac
    tags: [legal]
    settings:
      ui:
        media_paths:
          - text
      preferred_embedding: 'gte-small'
    source:
      config_name: us_bills
      dataset_name: pile-of-law/pile-of-law
      source_name: huggingface

  - name: pile-of-law-constitutions
    namespace: lilac
    tags: [legal]
    settings:
      ui:
        media_paths:
          - text
      preferred_embedding: 'gte-small'
    source:
      config_name: constitutions
      dataset_name: pile-of-law/pile-of-law
      source_name: huggingface

  - name: pile-of-law-r-legaladvice
    namespace: lilac
    tags: [legal]
    settings:
      ui:
        media_paths:
          - text
      preferred_embedding: 'gte-small'
    source:
      config_name: r_legaladvice
      dataset_name: pile-of-law/pile-of-law
      source_name: huggingface

  # Embeddings will take 3 days to compute on my computer. This is an interesting dataset we should
  # run later.

  # - name: pile-of-law-atticus-contracts
  #   namespace: lilac
  #   tags: [legal]
  #   settings:
  #     ui:
  #       media_paths:
  #         - text
  #     preferred_embedding: 'gte-small'
  #   source:
  #     config_name: atticus_contracts
  #     dataset_name: pile-of-law/pile-of-law
  #     # Limit to 100,000. The full size is 600K with large contracts that causes OOM issues.
  #     sample_size: 100000
  #     source_name: huggingface

signals:
  - signal_name: pii
  - signal_name: text_statistics
  - signal_name: spacy_ner
  - signal_name: near_dup
  - signal_name: lang_detection
